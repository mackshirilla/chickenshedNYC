"use strict";(()=>{var d=document.getElementById("firstNameInput"),I=document.getElementById("firstNameError");function W(){return d.hasAttribute("required")&&d.value.trim()===""?(I.textContent="First name required",I.style.display="block",d.classList.add("error"),!1):(I.textContent="",I.style.display="none",d.classList.remove("error"),!0)}d&&d.addEventListener("blur",W);var u=document.getElementById("lastNameInput"),g=document.getElementById("lastNameError");function j(){return u.hasAttribute("required")&&u.value.trim()===""?(g.textContent="Last name required",g.style.display="block",u.classList.add("error"),!1):(g.textContent="",g.style.display="none",u.classList.remove("error"),!0)}u&&u.addEventListener("blur",j);var n=document.getElementById("emailInput"),i=document.getElementById("emailError");function k(){let t=/^\S+@\S+\.\S+$/;return n.hasAttribute("required")&&n.value.trim()===""?(i.textContent="Email is required",i.style.display="block",n.classList.add("error"),!1):n.value.trim()!==""&&!t.test(n.value)?(i.textContent="Please enter a valid email",i.style.display="block",n.classList.add("error"),!1):(i.textContent="",i.style.display="none",n.classList.remove("error"),!0)}n&&n.addEventListener("blur",k);var r=document.getElementById("phoneInput"),l=document.getElementById("phoneError");function R(t){let e=t.replace(/\D/g,"");return e.length===0?"":e.length<4?`(${e}`:e.length<7?`(${e.slice(0,3)}) ${e.slice(3)}`:`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6,10)}`}function w(){let t=/^\D*(\d{3})\D*\D*(\d{3})\D*(\d{4})\D*$/;return r.required&&r.value.trim()===""?(l.textContent="Phone is required",l.style.display="block",r.classList.add("error"),!1):r.value.trim()!==""&&!t.test(r.value)?(l.textContent="Please enter a valid phone number",l.style.display="block",r.classList.add("error"),!1):(r.value=R(r.value),l.textContent="",l.style.display="none",r.classList.remove("error"),!0)}r&&r.addEventListener("input",t=>{let e=t.target;e.value=R(e.value),w()});var m=document.getElementById("dobInput"),b=document.getElementById("dobError");function O(){return m.hasAttribute("required")&&m.value.trim()===""?(b.textContent="Date of Birth is required",b.style.display="block",m.classList.add("error"),!1):(b.textContent="",b.style.display="none",m.classList.remove("error"),!0)}m&&m.addEventListener("blur",O);var c=document.getElementById("genderInput"),h=document.getElementById("genderError");function z(){return c.hasAttribute("required")&&c.value.trim()===""?(h.textContent="Gender is required",h.style.display="block",c.classList.add("error"),!1):(h.textContent="",h.style.display="none",c.classList.remove("error"),!0)}c&&c.addEventListener("blur",z);var y=document.getElementById("schoolInput"),x=document.getElementById("schoolError");function Q(){return y.hasAttribute("required")&&y.value.trim()===""?(x.textContent="School name is required",x.style.display="block",y.classList.add("error"),!1):(x.textContent="",x.style.display="none",y.classList.remove("error"),!0)}y&&y.addEventListener("blur",Q);var E=document.getElementById("gradeInput"),T=document.getElementById("gradeError");function U(){return E.hasAttribute("required")&&E.value.trim()==="N/A"?(T.textContent="Grade is required",T.style.display="block",E.classList.add("error"),!1):(T.textContent="",T.style.display="none",E.classList.remove("error"),!0)}E&&E.addEventListener("blur",U);var q=document.getElementById("ethnicityInput"),a=document.getElementById("ethnicityError");function J(){return q.hasAttribute("required")&&q.value.trim()===""?(a.textContent="Ethnicity is required",a.style.display="block",q.classList.add("error"),!1):(a.textContent="",a.style.display="none",a.classList.remove("error"),!0)}a&&q.addEventListener("blur",J);var p=document.getElementById("healthInput"),B=document.getElementById("healthError");function K(){return p.hasAttribute("required")&&p.value.trim()===""?(B.textContent="This field is required",B.style.display="block",p.classList.add("error"),!1):(B.textContent="",B.style.display="none",p.classList.remove("error"),!0)}p&&p.addEventListener("blur",K);var v=document.getElementById("emergencyContact"),M=document.getElementById("emergencyError");function V(){return v.hasAttribute("required")&&v.value.trim()===""?(M.textContent="This field is required",M.style.display="block",v.classList.add("error"),!1):(M.textContent="",M.style.display="none",v.classList.remove("error"),!0)}v&&v.addEventListener("blur",V);var f=document.getElementById("dismissal"),H=document.getElementById("dismissalError");function X(){return f.hasAttribute("required")&&f.value.trim()===""?(H.textContent="This field is required",H.style.display="block",f.classList.add("error"),!1):(H.textContent="",H.style.display="none",f.classList.remove("error"),!0)}f&&f.addEventListener("blur",X);var s=document.getElementById("additionalEmail"),o=document.getElementById("additionalEmailError");function Y(){let t=/^\S+@\S+\.\S+$/;return s.hasAttribute("required")&&s.value.trim()===""?(o.textContent="Email is required",o.style.display="block",s.classList.add("error"),!1):s.value.trim()!==""&&!t.test(s.value)?(o.textContent="Please enter a valid email",o.style.display="block",s.classList.add("error"),!1):(o.textContent="",o.style.display="none",s.classList.remove("error"),!0)}s&&s.addEventListener("blur",Y);var L=document.getElementById("interestInput"),C=document.getElementById("interestError");function Z(){return L.hasAttribute("required")&&L.value.trim()===""?(C.textContent="This field is required",C.style.display="block",L.classList.add("error"),!1):(C.textContent="",C.style.display="none",L.classList.remove("error"),!0)}L&&L.addEventListener("blur",Z);var ee=document.getElementById("bloodType"),te=document.getElementById("bloodTypeError");async function $(){let t=document.getElementById("emailInput"),e=document.getElementById("submitError"),S=document.getElementById("successMessage"),P=document.getElementById("loginWrapper"),D=document.getElementById("loadingAnimation");D.style.display="block",e.style.display="none";try{let A=t.value,G=`https://xszy-vp96-kdkh.n7c.xano.io/api:WyQO-hFi/auth/magic-link?email=${encodeURIComponent(A)}`,N=await fetch(G,{method:"GET",headers:{"Content-Type":"application/json"}});if(D.style.display="none",N.ok)P.style.display="none",S.style.display="block";else{let F=await N.json();e.textContent=F.message||"An error occurred",e.style.display="block"}}catch{}finally{D.style.display="none"}}var _=document.getElementById("submitButton");_.addEventListener("click",t=>{if(k())t.preventDefault(),$();else{t.preventDefault();let e=document.getElementById("submitError");e.style.display="block",e.textContent="Please make sure you have entered all fields correctly."}});})();
