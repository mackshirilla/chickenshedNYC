"use strict";(()=>{var C=new URLSearchParams(window.location.search),g=C.get("order");if(g!==null){let r="https://x8ki-letl-twmt.n7.xano.io/api:2gnTJ2I8/Ticket_Orders",o=new URL(r);o.searchParams.append("order",g),fetch(o).then(t=>{if(!t.ok)throw new Error("Request failed");return t.json()}).then(t=>{console.log("Response:",t);let l=document.getElementById("loadingWall");l&&(l.style.display="none");let i=t.response&&t.response.result&&t.response.result.records?t.response.result.records:[],m=document.getElementById("ticketListTemplateItem"),c=document.getElementById("ticketList");if(m&&c)if(c.innerHTML="",i.length>0){let s=document.getElementById("performanceNameTitle");s&&(s.textContent=i[0].fields.performanceName);let a=document.getElementById("performanceDateTitle");a&&(a.textContent=T(i[0].fields.performanceDate));let d=document.getElementById("performanceTimeTitle");d&&(d.textContent=i[0].fields.performanceTime),i.filter(e=>!e.fields.ticketTier.toLowerCase().includes("donation")).forEach(e=>{var u,p;let n=m.cloneNode(!0);n.classList.remove("hidden"),n.querySelector("#performanceDate").textContent=T(e.fields.performanceDate),n.querySelector("#performanceTime").textContent=e.fields.performanceTime,n.querySelector("#performanceName").textContent=e.fields.performanceName,n.querySelector("#customerName").textContent=e.fields.customerName,n.querySelector("#ticketTier").textContent=e.fields.ticketTier,n.querySelector("#unitAmount").textContent=h(e.fields.unitAmount),n.querySelector("#seatingAssignment").textContent=e.fields.seatAssignment;let f=n.querySelector("#QR_code");if(f){let y=e.fields.QR_code&&((u=e.fields.QR_code[0])!=null&&u.url)?(p=e.fields.QR_code[0])==null?void 0:p.url:"";f.src=y}c.appendChild(n)})}else{let s=document.createElement("div");s.textContent="No tickets found.",c.appendChild(s)}}).catch(t=>{console.error("Error:",t)})}else console.error("Order number not found in URL");function T(r){let o={year:"numeric",month:"long",day:"numeric"};return new Date(r).toLocaleDateString(void 0,o)}function h(r){return parseFloat(r).toLocaleString(void 0,{style:"currency",currency:"USD"})}})();
