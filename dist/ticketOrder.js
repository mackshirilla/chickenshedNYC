"use strict";(()=>{var C=new URLSearchParams(window.location.search),g=C.get("order");if(g!==null){let o="https://x8ki-letl-twmt.n7.xano.io/api:2gnTJ2I8/Ticket_Orders",r=new URL(o);r.searchParams.append("order",g),fetch(r).then(e=>{if(!e.ok)throw new Error("Request failed");return e.json()}).then(e=>{console.log("Response:",e);let c=document.getElementById("loadingWall");c&&(c.style.display="none");let i=e.response&&e.response.result&&e.response.result.records?e.response.result.records:[],a=document.getElementById("ticketListTemplateItem"),m=document.getElementById("ticketList");if(a&&m)if(m.innerHTML="",i.length>0){let s=document.getElementById("performanceNameTitle");s&&(s.textContent=i[0].fields.performanceName);let l=document.getElementById("performanceDateTitle");l&&(l.textContent=T(i[0].fields.performanceDate));let d=document.getElementById("performanceTimeTitle");d&&(d.textContent=i[0].fields.performanceTime),i.filter(t=>!t.fields.ticketTier.toLowerCase().includes("donation")).forEach(t=>{var u,p;let n=a.cloneNode(!0);n.classList.remove("hidden"),n.querySelector("#performanceDate").textContent=T(t.fields.performanceDate),n.querySelector("#performanceTime").textContent=t.fields.performanceTime,n.querySelector("#performanceName").textContent=t.fields.performanceName,n.querySelector("#customerName").textContent=t.fields.customerName,n.querySelector("#ticketTier").textContent=t.fields.ticketTier,n.querySelector("#unitAmount").textContent=h(t.fields.unitAmount),n.querySelector("#seatingAssignment").textContent=t.fields.seatAssignment;let f=n.querySelector("#QR_code");if(f){let y=t.fields.QR_code&&((u=t.fields.QR_code[0])!=null&&u.url)?(p=t.fields.QR_code[0])==null?void 0:p.url:"";f.src=y}m.appendChild(n)})}else{let s=document.createElement("div");s.textContent="No tickets found.",m.appendChild(s)}}).catch(e=>{console.error("Error:",e)})}else console.error("Order number not found in URL");function T(o){let r=new Date(o),e=new Date(r.getTime()+r.getTimezoneOffset()*6e4),c={year:"numeric",month:"long",day:"numeric"};return e.toLocaleDateString(void 0,c)}function h(o){return parseFloat(o).toLocaleString(void 0,{style:"currency",currency:"USD"})}})();
